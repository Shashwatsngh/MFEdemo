"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[412],{412(e,r,t){t.r(r),t.d(r,{default:()=>g});var a=t(418),s=t(4),d=t(264),l=t(957),o=(t(396),t(159));const i=e=>{switch(e){case"completed":return(0,o.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,o.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"started":return(0,o.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,o.jsxs)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})});case"certificate":return(0,o.jsx)("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,o.jsx)("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138z"})})});default:return null}},n=({isOpen:e,onClose:r,profile:t,user:i})=>{const n=(0,s.useDispatch)(),[c,x]=(0,a.useState)({name:t.name,role:t.role,location:t.location,bio:t.bio});return e?(0,o.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 max-w-md w-full border border-gray-200 dark:border-gray-700",children:[(0,o.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Edit Profile"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.db.updateProfile(i,c),n((0,d.r7)(c)),r()},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Name"}),(0,o.jsx)("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2 dark:bg-gray-700 dark:text-white",value:c.name,onChange:e=>x({...c,name:e.target.value})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),(0,o.jsx)("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2 dark:bg-gray-700 dark:text-white",value:c.role,onChange:e=>x({...c,role:e.target.value})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Location"}),(0,o.jsx)("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2 dark:bg-gray-700 dark:text-white",value:c.location,onChange:e=>x({...c,location:e.target.value})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),(0,o.jsx)("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2 dark:bg-gray-700 dark:text-white",rows:"3",value:c.bio,onChange:e=>x({...c,bio:e.target.value})})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,o.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Save Changes"})]})]})]})}):null},c=({user:e,onDeleteAccount:r})=>{const[t,s]=(0,a.useState)(!1);return(0,o.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8 space-y-8 animate-fade-in",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Account Settings"}),(0,o.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl p-6",children:[(0,o.jsx)("h3",{className:"text-red-700 dark:text-red-400 font-bold mb-2",children:"Danger Zone"}),(0,o.jsx)("p",{className:"text-red-600 dark:text-red-300/80 mb-6 text-sm",children:"Deleting your account is permanent. All your data, learning progress, and certificates will be wiped out immediately."}),t?(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("span",{className:"text-sm font-bold text-red-700 dark:text-red-400",children:"Are you sure?"}),(0,o.jsx)("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Yes, Delete It"}),(0,o.jsx)("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium",children:"Cancel"})]}):(0,o.jsx)("button",{onClick:()=>s(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Delete My Account"})]})]})})},x=({user:e,onLogout:r})=>{const t=(0,s.useDispatch)(),x=(0,s.useSelector)(d.og),[g,m]=(0,a.useState)(!1),[h,b]=(0,a.useState)("overview");return(0,a.useEffect)(()=>{if(e){const r=l.db.getProfile(e);t((0,d.cp)(r))}},[e,t]),x?(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)(n,{isOpen:g,onClose:()=>m(!1),profile:x,user:e}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[(0,o.jsx)("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-indigo-700 relative",children:(0,o.jsx)("div",{className:"absolute inset-0 bg-black/10"})}),(0,o.jsxs)("div",{className:"px-8 pb-8",children:[(0,o.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-end -mt-16 mb-6 gap-6",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"w-32 h-32 rounded-2xl border-4 border-white dark:border-gray-800 shadow-lg overflow-hidden bg-white dark:bg-gray-700",children:(0,o.jsx)("img",{src:x.avatar,alt:x.name,className:"w-full h-full object-cover"})}),(0,o.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 w-6 h-6 rounded-full border-2 border-white dark:border-gray-800"})]}),(0,o.jsxs)("div",{className:"flex-1 mb-2",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.name}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:x.role}),(0,o.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),x.location]}),(0,o.jsxs)("span",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Joined ",x.joinedDate]})]})]}),(0,o.jsx)("div",{className:"flex gap-3",children:(0,o.jsx)("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors shadow-sm",children:"Edit Profile"})})]}),(0,o.jsxs)("div",{className:"flex gap-8 border-t border-gray-100 dark:border-gray-700 pt-8 mt-8",children:[(0,o.jsx)("button",{onClick:()=>b("overview"),className:"pb-2 text-sm font-medium border-b-2 transition-colors "+("overview"===h?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"),children:"Overview"}),(0,o.jsx)("button",{onClick:()=>b("settings"),className:"pb-2 text-sm font-medium border-b-2 transition-colors "+("settings"===h?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"),children:"Settings"})]})]})]}),"settings"===h?(0,o.jsx)(c,{user:e,onDeleteAccount:()=>{if(e)try{const t=`mfe_profile_${e.email}`;localStorage.removeItem(t);const a=JSON.parse(localStorage.getItem("mfe_users")||"[]").filter(r=>r.email!==e.email);localStorage.setItem("mfe_users",JSON.stringify(a)),r&&r()}catch(e){console.error("Failed to delete account",e)}}}):(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,o.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"About Me"}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:x.bio})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Recent Activity"}),(0,o.jsx)("div",{className:"space-y-6",children:x.recentActivity.map(e=>(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[i(e.type),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:e.course}),(0,o.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:["completed"===e.type?"Completed":"started"===e.type?"Started learning":"Earned certificate"," â€¢ ",e.date]})]})]},e.id))})]})]}),(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Learning Stats"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.stats.coursesCompleted}),(0,o.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mt-1",children:"Courses Completed"})]}),(0,o.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.stats.coursesInProgress}),(0,o.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mt-1",children:"In Progress"})]}),(0,o.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.stats.certificatesEarned}),(0,o.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mt-1",children:"Certificates"})]}),(0,o.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.stats.totalHoursLearned}),(0,o.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mt-1",children:"Hours Learned"})]})]})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Skills"}),(0,o.jsx)("div",{className:"space-y-4",children:x.skills.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm font-medium mb-1",children:[(0,o.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.name}),(0,o.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[e.level,"%"]})]}),(0,o.jsx)("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.level}%`}})})]},e.name))})]})]})]})]}):(0,o.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading Profile..."})},g=({user:e,onLogout:r})=>(0,o.jsx)(s.Provider,{store:d.M_,children:(0,o.jsx)(x,{user:e,onLogout:r})})}}]);